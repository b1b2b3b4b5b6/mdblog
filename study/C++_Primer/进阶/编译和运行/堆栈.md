# 堆栈示意
![](https://raw.githubusercontent.com/b1b2b3b4b5b6/pic/main/PicGo/202511131453679.png)
- `ESP(x86)/RSP(x64)` `栈顶指针`寄存器(extended stack pointer)，其内存放着一个指针，该指针永远指向系统栈顶部栈帧的栈顶。
- `EBP(x86)/RBP(x64)` `函数栈基址指针`寄存器(extended base pointer)，其内存放着一个指针，该指针永远指向系统栈顶部栈帧的底部, 称为`栈首地址`

## 流程
假设father函数调用son函数
- 调用前
    - `%epb`为father`栈首地址`
    - 在栈里准备好参数, 返回地址
- 调用时操作
    - 栈里塞入%ebp的值, 同时此`内存地址`成为son的`栈首地址`
    - `%ebp`的值改为上面son的`栈首地址`

